<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>After-tax Cost of Debt - Developer & Financial Tools</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script src="/utils/calculatorUtils.js"></script>
    <script src="/components/calculatorComponents.js"></script>
    <style>
        [x-cloak] { display: none !important; }
    </style>
</head>
<body class="bg-gray-50">
    
<div class="min-h-screen bg-gray-50">
    <!-- Header -->
    <div class="bg-white border-b">
        <div class="container mx-auto px-4 py-6 max-w-7xl">
            <div class="flex items-center gap-4">
                <a href="../index.html" class="text-xs font-semibold flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors">
                    <i data-lucide="arrow-left" class="h-4 w-4"></i>
                    Back to Tools
                </a>
                <div class="h-6 w-px bg-gray-300"></div>

            </div>
        </div>
    </div>

                <div class="text-center py-8">
                    <div class="flex items-center justify-center mb-4">
                        <div class="p-4 bg-blue-100 rounded-full">
                            <i data-lucide="minus-circle" class="h-8 w-8 text-blue-600"></i>
                        </div>
                    </div>
                    <h1 class="text-2xl font-bold text-gray-900">After-tax Cost of Debt</h1>
                    <p class="text-gray-600">Calculate after-tax cost of debt for financial analysis.</p>
                </div>

    <!-- Tool Content -->
    <div class="container mx-auto px-4 py-8 max-w-7xl">
        <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>After-tax Cost of Debt Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script src="/utils/calculatorUtils.js"></script>
    <script src="/components/calculatorComponents.js"></script>
    <style>
        [x-cloak] { display: none !important; }
    </style>
</head>
<body class="bg-gray-50">
    
<div class="max-w-6xl mx-auto p-6">
    <div class="mb-8">
        <h1 class="text-3xl font-bold text-gray-900 mb-2">After-tax Cost of Debt Calculator</h1>
        <p class="text-gray-600">Calculate the true cost of debt after considering tax deductibility of interest payments.</p>
    </div>

    <div x-data="afterTaxCostDebtCalculator()" class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <!-- Input Section -->
        <div class="bg-white rounded-lg border border-gray-200">
            <div class="p-6 border-b border-gray-200">
                <h2 class="text-lg font-semibold flex items-center gap-2">
                    <i data-lucide="calculator" class="h-5 w-5"></i>
                    Debt & Tax Information
                </h2>
            </div>
            <div class="p-6 space-y-6">
                <div class="space-y-2">
                    <label class="block text-sm font-medium text-gray-700">Pre-tax Interest Rate (%)</label>
                    <input
                        type="number"
                        step="0.01"
                        placeholder="6.50"
                        x-model="interestRate"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                        :class="{ 'border-red-300': parseFloat(interestRate) <= 0 }"
                    />
                    <p x-show="parseFloat(interestRate) <= 0" class="text-sm text-red-600">Please enter a valid interest rate</p>
                </div>

                <div class="space-y-2">
                    <label class="block text-sm font-medium text-gray-700">Tax Rate (%)</label>
                    <input
                        type="number"
                        step="0.01"
                        placeholder="25.00"
                        x-model="taxRate"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                        :class="{ 'border-red-300': parseFloat(taxRate) < 0 || parseFloat(taxRate) >= 100 }"
                    />
                    <p x-show="parseFloat(taxRate) < 0 || parseFloat(taxRate) >= 100" class="text-sm text-red-600">Tax rate must be between 0% and 99.99%</p>
                </div>

                <div class="space-y-2">
                    <label class="block text-sm font-medium text-gray-700">Debt Amount (Optional - for examples)</label>
                    <input
                        type="number"
                        placeholder="100000"
                        x-model="debtAmount"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    />
                    <p class="text-sm text-gray-500">Used for calculating example interest payments</p>
                </div>

                <div class="space-y-2">
                    <label class="block text-sm font-medium text-gray-700">Debt Type</label>
                    <select
                        x-model="debtType"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    >
                        <option value="business">Business Debt (Tax Deductible)</option>
                        <option value="mortgage">Mortgage Interest (Tax Deductible)</option>
                        <option value="investment">Investment Debt (Tax Deductible)</option>
                        <option value="personal">Personal Debt (Not Tax Deductible)</option>
                    </select>
                </div>

                <div class="bg-blue-50 rounded-lg p-4">
                    <h4 class="font-medium text-blue-900 mb-2">Tax Deductibility</h4>
                    <div class="text-sm text-blue-800 space-y-1">
                        <p x-show="debtType === 'business'">✅ Business debt interest is typically tax deductible</p>
                        <p x-show="debtType === 'mortgage'">✅ Mortgage interest is deductible up to certain limits</p>
                        <p x-show="debtType === 'investment'">✅ Investment debt interest may be deductible</p>
                        <p x-show="debtType === 'personal'">❌ Personal debt interest is generally not tax deductible</p>
                        <p class="text-xs mt-2">Consult a tax professional for specific situations</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div class="bg-white rounded-lg border border-gray-200">
            <div class="p-6 border-b border-gray-200">
                <h2 class="text-lg font-semibold flex items-center gap-2">
                    <i data-lucide="trending-down" class="h-5 w-5"></i>
                    Cost Analysis
                </h2>
            </div>
            <div class="p-6">
                <div class="space-y-6">
                    <!-- Key Metrics -->
                    <div class="grid grid-cols-1 gap-4">
                        <div class="text-center p-4 bg-red-50 rounded-lg">
                            <p class="text-sm text-gray-600">Pre-tax Cost of Debt</p>
                            <p class="text-2xl font-bold text-red-600" x-text="formatPercentage(parseFloat(interestRate))"></p>
                        </div>
                        <div class="text-center p-4 bg-green-50 rounded-lg" x-show="isDeductible">
                            <p class="text-sm text-gray-600">After-tax Cost of Debt</p>
                            <p class="text-2xl font-bold text-green-600" x-text="formatPercentage(results.afterTaxRate)"></p>
                        </div>
                        <div class="text-center p-4 bg-yellow-50 rounded-lg" x-show="!isDeductible">
                            <p class="text-sm text-gray-600">After-tax Cost of Debt</p>
                            <p class="text-2xl font-bold text-yellow-600" x-text="formatPercentage(parseFloat(interestRate))"></p>
                            <p class="text-xs text-gray-500 mt-1">Same as pre-tax (not deductible)</p>
                        </div>
                    </div>

                    <!-- Tax Savings -->
                    <div x-show="isDeductible" class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Tax Shield Value:</span>
                            <span class="font-semibold text-green-600" x-text="formatPercentage(results.taxShield)"></span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Interest Rate Reduction:</span>
                            <span class="font-semibold text-blue-600" x-text="formatPercentage(results.rateReduction)"></span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Effective Tax Rate:</span>
                            <span class="font-semibold" x-text="formatPercentage(parseFloat(taxRate))"></span>
                        </div>
                    </div>

                    <!-- Example Calculations -->
                    <div x-show="parseFloat(debtAmount) > 0" class="mt-6 p-4 bg-gray-50 rounded-lg">
                        <h4 class="font-medium mb-3 flex items-center gap-2">
                            <i data-lucide="dollar-sign" class="h-4 w-4"></i>
                            Annual Interest Example
                        </h4>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span class="text-gray-600">Debt Amount:</span>
                                <span class="font-semibold" x-text="formatCurrency(parseFloat(debtAmount))"></span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Annual Interest (Pre-tax):</span>
                                <span class="font-semibold text-red-600" x-text="formatCurrency(results.annualInterest)"></span>
                            </div>
                            <div x-show="isDeductible" class="flex justify-between">
                                <span class="text-gray-600">Tax Savings:</span>
                                <span class="font-semibold text-green-600" x-text="formatCurrency(results.taxSavings)"></span>
                            </div>
                            <div class="flex justify-between border-t pt-2">
                                <span class="text-gray-800 font-medium">Net Interest Cost:</span>
                                <span class="font-bold" :class="isDeductible ? 'text-green-600' : 'text-red-600'" x-text="formatCurrency(results.netInterestCost)"></span>
                            </div>
                        </div>
                    </div>

                    <!-- Formula Explanation -->
                    <div class="mt-6 p-4 bg-blue-50 rounded-lg">
                        <h4 class="font-medium mb-2 text-blue-900">Formula</h4>
                        <div class="text-sm text-blue-800 space-y-2">
                            <div class="bg-white p-2 rounded font-mono text-xs">
                                After-tax Cost = Pre-tax Rate × (1 - Tax Rate)
                            </div>
                            <div x-show="isDeductible">
                                <p>Example: <span x-text="formatPercentage(parseFloat(interestRate))"></span> × (1 - <span x-text="formatPercentage(parseFloat(taxRate))"></span>) = <span x-text="formatPercentage(results.afterTaxRate)"></span></p>
                            </div>
                            <div x-show="!isDeductible">
                                <p>Since this debt type is not tax deductible, the after-tax cost equals the pre-tax cost.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Comparison Table -->
                    <div class="mt-6 p-4 bg-gray-50 rounded-lg">
                        <h4 class="font-medium mb-3 flex items-center gap-2">
                            <i data-lucide="bar-chart-3" class="h-4 w-4"></i>
                            Tax Rate Comparison
                        </h4>
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm">
                                <thead>
                                    <tr class="border-b">
                                        <th class="text-left py-2">Tax Rate</th>
                                        <th class="text-right py-2">After-tax Cost</th>
                                        <th class="text-right py-2">Savings</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <template x-for="rate in [15, 22, 24, 32, 35, 37]" :key="rate">
                                        <tr class="border-b border-gray-100" :class="{ 'bg-blue-100': Math.abs(rate - parseFloat(taxRate)) < 1 }">
                                            <td class="py-1" x-text="rate + '%'"></td>
                                            <td class="text-right py-1" x-text="isDeductible ? formatPercentage(parseFloat(interestRate) * (1 - rate/100)) : formatPercentage(parseFloat(interestRate))"></td>
                                            <td class="text-right py-1" x-text="isDeductible ? formatPercentage(parseFloat(interestRate) * rate/100) : '0.00%'"></td>
                                        </tr>
                                    </template>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Educational Content -->
    <div class="mt-8 bg-white rounded-lg border border-gray-200">
        <div class="p-6 border-b border-gray-200">
            <h2 class="text-lg font-semibold flex items-center gap-2">
                <i data-lucide="book-open" class="h-5 w-5"></i>
                Understanding After-tax Cost of Debt
            </h2>
        </div>
        <div class="p-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h4 class="font-medium mb-3">What is After-tax Cost of Debt?</h4>
                    <div class="text-sm text-gray-600 space-y-2">
                        <p>The after-tax cost of debt represents the true cost of borrowing after considering tax benefits from deductible interest payments.</p>
                        <p>When interest is tax deductible, the government effectively subsidizes part of your borrowing cost through tax savings.</p>
                        <p>This is crucial for business decisions, investment analysis, and comparing financing options.</p>
                    </div>
                </div>
                <div>
                    <h4 class="font-medium mb-3">When to Use This Calculator</h4>
                    <ul class="text-sm text-gray-600 space-y-1">
                        <li>• Evaluating business loan costs</li>
                        <li>• Comparing debt vs equity financing</li>
                        <li>• Investment property analysis</li>
                        <li>• Corporate financial planning</li>
                        <li>• Tax planning strategies</li>
                        <li>• WACC (Weighted Average Cost of Capital) calculations</li>
                    </ul>
                </div>
            </div>
            
            <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="p-4 bg-green-50 rounded-lg">
                    <h4 class="font-medium text-green-900 mb-2">Tax Deductible Debt Types</h4>
                    <ul class="text-sm text-green-800 space-y-1">
                        <li>• Business loans and lines of credit</li>
                        <li>• Mortgage interest (primary residence)</li>
                        <li>• Investment property mortgages</li>
                        <li>• Margin loans for investments</li>
                        <li>• Equipment financing</li>
                    </ul>
                </div>
                <div class="p-4 bg-red-50 rounded-lg">
                    <h4 class="font-medium text-red-900 mb-2">Non-Deductible Debt Types</h4>
                    <ul class="text-sm text-red-800 space-y-1">
                        <li>• Personal credit cards</li>
                        <li>• Personal loans</li>
                        <li>• Auto loans (personal use)</li>
                        <li>• Student loans (limited deduction)</li>
                        <li>• Home equity loans (limited cases)</li>
                    </ul>
                </div>
            </div>

            <div class="mt-6 p-4 bg-yellow-50 rounded-lg">
                <h4 class="font-medium text-yellow-900 mb-2">⚠️ Important Considerations</h4>
                <ul class="text-sm text-yellow-800 space-y-1">
                    <li>• Tax laws vary by jurisdiction and change over time</li>
                    <li>• Deductibility may have limits or phase-outs</li>
                    <li>• Alternative Minimum Tax (AMT) may affect deductions</li>
                    <li>• State taxes may have different rules</li>
                    <li>• Always consult a tax professional for specific situations</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<script>
function afterTaxCostDebtCalculator() {
    return {
        interestRate: '6.50',
        taxRate: '25.00',
        debtAmount: '100000',
        debtType: 'business',
        
        get isDeductible() {
            return this.debtType !== 'personal';
        },
        
        get results() {
            const preRate = parseFloat(this.interestRate) || 0;
            const taxRateDecimal = (parseFloat(this.taxRate) || 0) / 100;
            const debt = parseFloat(this.debtAmount) || 0;
            
            const afterTaxRate = this.isDeductible ? preRate * (1 - taxRateDecimal) : preRate;
            const taxShield = this.isDeductible ? preRate * taxRateDecimal : 0;
            const rateReduction = preRate - afterTaxRate;
            
            const annualInterest = debt * (preRate / 100);
            const taxSavings = this.isDeductible ? annualInterest * taxRateDecimal : 0;
            const netInterestCost = annualInterest - taxSavings;
            
            return {
                afterTaxRate,
                taxShield,
                rateReduction,
                annualInterest,
                taxSavings,
                netInterestCost
            };
        },
        
        formatPercentage(value) {
            return new Intl.NumberFormat('en-US', {
                style: 'percent',
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            }).format((value || 0) / 100);
        },
        
        formatCurrency(amount) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            }).format(amount || 0);
        }
    }
}
</script>

    
    
    <!-- Build Info Footer -->
    <div class="fixed bottom-2 right-2 z-50">
        <div class="bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-50 hover:opacity-100 transition-opacity">
            v1.0.0.320250
        </div>
    </div>
    
    
    <script>
        // Initialize Lucide icons
        document.addEventListener("DOMContentLoaded", () => {
            lucide.createIcons();
        });
    </script>
</body>
</html>
    </div>
</div>

    
    
    <!-- Build Info Footer -->
    <div class="fixed bottom-2 right-2 z-50">
        <div class="bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-50 hover:opacity-100 transition-opacity">
            v1.0.0.320250
        </div>
    </div>
    
    
    <script>
        // Initialize Lucide icons
        document.addEventListener("DOMContentLoaded", () => {
            lucide.createIcons();
        });
    </script>
</body>
</html>